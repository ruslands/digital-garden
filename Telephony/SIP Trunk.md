### üß≠ –û–±—â–∞—è –ª–æ–≥–∏–∫–∞

```text
üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   –∑–≤–æ–Ω–∏—Ç –Ω–∞ –Ω–æ–º–µ—Ä
        ‚îÇ
        ‚ñº
üõ∞Ô∏è –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ (Novofon / FreePBX / Twilio)
 ‚îî‚îÄ‚îÄ —Å–æ–∑–¥–∞—ë—Ç SIP-—Ç—Ä–∞–Ω–∫ ‚Üí –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ç–≤–æ–µ–º—É —Å–µ—Ä–≤–µ—Ä—É
        ‚îÇ
        ‚ñº
üåê SIP Trunk (–∫–∞–Ω–∞–ª —Å–≤—è–∑–∏)
    host: sip.myveyra.ai
    port: 5060 (UDP)
    numbers: +74991124148
        ‚îÇ
        ‚ñº
üî∏ LiveKit SIP Gateway (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä livekit/sip)
 ‚îî‚îÄ‚îÄ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç INVITE, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç trunk –∏ dispatch rule
        ‚îÇ
        ‚ñº
üß© Dispatch Rule
 ‚îî‚îÄ‚îÄ –ø—Ä–∞–≤–∏–ª–æ: ‚Äú–≤—Å–µ –∑–≤–æ–Ω–∫–∏ –Ω–∞ trunk1 ‚Üí room 'support-room'‚Äù
        ‚îÇ
        ‚ñº
üé• LiveKit Room: "support-room"
 ‚îú‚îÄ‚îÄ SIP-—É—á–∞—Å—Ç–Ω–∏–∫ (–∑–≤–æ–Ω—è—â–∏–π)
 ‚îî‚îÄ‚îÄ Agent (–±–æ—Ç/–æ–ø–µ—Ä–∞—Ç–æ—Ä, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π —á–µ—Ä–µ–∑ LiveKit Agent API)
        ‚îÇ
        ‚ñº
üí¨ –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å
   (SIP ‚Üî WebRTC ‚Üî Agent)
```

---

### üîç –ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ—ë–≤

| –£—Ä–æ–≤–µ–Ω—å                         | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                                           | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                          |
| ------------------------------- | --------------------------------------------------- | --------------------------------------------------- |
| **–¢–µ–ª–µ—Ñ–æ–Ω–∏—è**                   | Twilio / FreePBX / Novofon                          | –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SIP-–≤—ã–∑–æ–≤—ã –Ω–∞ —Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä                |
| **SIP Trunk**                   | –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (IP + –ø–æ—Ä—Ç + –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) | –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –∏ LiveKit  |
| **SIP Gateway (`livekit/sip`)** | –¢–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ VM                                | –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç SIP-–≤—ã–∑–æ–≤—ã –≤ —Ñ–æ—Ä–º–∞—Ç LiveKit |
| **Dispatch Rule**               | –ü—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ LiveKit                | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫—É—é –∫–æ–º–Ω–∞—Ç—É –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤         |
| **LiveKit Room**                | –ö–æ–º–Ω–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `support-room`)                  | –ó–¥–µ—Å—å –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –∑–≤–æ–Ω—è—â–∏–π –∏ –∞–≥–µ–Ω—Ç                  |
| **Agent Worker**                | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ç–≤–æ–∏–º –ò–ò-–∞–≥–µ–Ω—Ç–æ–º                        | –°–ª—É—à–∞–µ—Ç/–≥–æ–≤–æ—Ä–∏—Ç —Å –∞–±–æ–Ω–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ LiveKit API       |

---

### üß© –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–∑–æ–≤–∞

1. –ö–ª–∏–µ–Ω—Ç –Ω–∞–±–∏—Ä–∞–µ—Ç **+7 499 112-41-48**.
2. Novofon (–∏–ª–∏ —Ç–≤–æ—è –ê–¢–°) –≤–∏–¥–∏—Ç, —á—Ç–æ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä —Å–≤—è–∑–∞–Ω —Å SIP-—Ç—Ä–∞–Ω–∫–æ–º `sip.myveyra.ai:5060`.
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è **SIP INVITE** –Ω–∞ —Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä.
4. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä **`livekit/sip`** –ø–æ–ª—É—á–∞–µ—Ç INVITE, —Å–≤–µ—Ä—è–µ—Ç –Ω–æ–º–µ—Ä —Å **Trunk**, –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π **Dispatch Rule**.
5. LiveKit —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–Ω–∞—Ç—É **support-room**, –¥–æ–±–∞–≤–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞ (SIP-–∑–≤–æ–Ω—è—â–µ–≥–æ).
6. LiveKit –≤—ã–∑—ã–≤–∞–µ—Ç —Ç–≤–æ–µ–≥–æ **Agent** —á–µ—Ä–µ–∑ worker (Python).
7. Agent –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å (ASR + TTS).
8. –ö–æ–≥–¥–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä –∑–∞–∫–æ–Ω—á–µ–Ω ‚Äî SIP-–≤—ã–∑–æ–≤ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∫–æ–º–Ω–∞—Ç–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

---

### üß± –¢–µ—Ä–º–∏–Ω—ã –Ω–∞ —ç—Ç–æ–π —Å—Ö–µ–º–µ

| –¢–µ—Ä–º–∏–Ω            | –ó–Ω–∞—á–µ–Ω–∏–µ                                                  |
| ----------------- | --------------------------------------------------------- |
| **SIP Trunk**     | –§–∏–∑–∏—á–µ—Å–∫–∏–π/–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–∞–Ω–∞–ª –º–µ–∂–¥—É –¥–≤—É–º—è SIP-—Å–µ—Ä–≤–µ—Ä–∞–º–∏     |
| **SIP URI**       | –ê–¥—Ä–µ—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (`sip:caller@sip.myveyra.ai`) |
| **Dispatch Rule** | –ü—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ LiveKit                      |
| **Room**          | –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ (WebRTC)                              |
| **Agent**         | –¢–≤–æ–π –ò–ò-–±–æ—Ç / –æ–ø–µ—Ä–∞—Ç–æ—Ä                                    |


